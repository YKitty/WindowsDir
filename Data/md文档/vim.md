# vim

---

## vim的基本概念

1. 正常/普通/命令模式（Normal mode）

   > 控制屏幕光标的移动，字符、字或行的删除，移动复制某区段及进入Insert mode下，或者导Last line mode

2. 插入模式（Insert mode）

   >只有在Insert mode下，才可以做文字输入，按Esc键可回到命令行模式

3. 末行模式（Last line mode）

   >文件保存或退出，也可以进行文件替换，找字符串，列出行号等操作。在命令模式下，**shift+:**即可进入该模式。要查看你的所有模式：打开vim，底行模式直接输入：help vim-modes

## vim的基本操作 

1. 进入vim，在系统提示符号输入vim即文件名称后，就进入vim全屏幕编辑画面

2. 正常模式  >  插入模式  
   > - 输入a
   > - 输入i
   > - 输入o

3. 插入模式  >  正常模式

   > - 目前处于插入模式就只能一直输入文字，如果发现输错了字，想用光标键往回移动，将该字删除，可以先按一下ESC键转到正常模式下再删除文字。当然也可以直接删除

4. 正常模式  >   换行模式
   > - shift + ;  , 其实就是输入：

5. 退出vim及保存文件，在正常模式下，按一下：冒号键进入last line mode
   > - ：w  （保存当前文件）
   > - ：wq   （输入wq，存盘并退出）
   > - ：q！ （输入q！，不存盘强制退出vim）

## vim正常模式命令集

1. 插入模式

   > - 按【i】切换进入插入模式【insert mode】，按“i”进入插入模式后是从光标当前位置开始输入文件
   > - 按【a】进入插入模式后，是从光标当前位置的下一个位置开始输入文字
   > - 按【o】进入插入模式后，是插入新的一行，从行首开始输入文字

2. 移动光标

   > - vim可以直接用键盘上的光标来上下左右移动，但正规的vim是用小写英文字母【h】、【j】、【k】、【l】，分别控制光标的左，下，右，上
   > - 按【G】：移动到文章的最后
   > - 按【$】：移动到光标所在的行的行尾
   > - 按【^】:移动到光标所在行的行首
   > - 按【w】：光标跳到下一个字的开头
   > - 按【e】：光标跳的下一个字的字尾
   > - 按【b】：光标回到上一个字的开头
   > - 按【#l】：光标移到改行的第#个位置
   > - 按【gg】：进入到文本开始
   > - 按【shift + g】：进入到文本末端
   > - 按【crtl + b】：屏幕向后移动一页
   > - 按【crtl + f】：屏幕向前移动一页
   > - 按【crtl + u】：屏幕向后移动半页
   > - 按【crtl + d】：屏幕向前移动半页
   >

   3. 删除文字

   > - 【x】：每按一次，删除光标所在位置的第一个字符
   > - 【#x】：例如，【6x】表示删除光标所在位置的后面的6个字符
   > - 【X】：大写的X，每按一次，删除光标所在位置的前面的一个字符
   > - 【#X】：例如，【20X】表示删除光标所在位置的前面20个字符
   > - 【dd】：删除光标所在的行
   > - 【#dd】：从光标所在的行开始删除#行
   >

   4. 复制

   > - 【yw】：将光标所在之处到字尾的字符复制到缓存区中
   > - 【#yw】：复制#个字到缓存区
   > - 【yy】：复制光标所在的行到缓存区
   > - 【#yy】：例如，【6yy】表示拷贝从光标所在的改行往下数6行文字
   > - 【p】：将缓存区的字符贴到光标所在的位置。注意：所以与y有关的复制命令都必须与p结合才能完成复制和粘贴功能

   5. 替换

   > - 【r】：替换光标所在处的字符
   > - 【R】：替换光标所到之处的字符，直到按下ESC键为止

   6. 撤销上一次操作

   > - 【u】：如果误执行一个命令，可以马上按下【u】，回到上一次操作。按多次【u】可以执行多次回复
   > - 【crtl + r】：撤销的回复

   7. 更改

   > - 【cw】：更改光标所在处的字到字尾处
   > - 【c#w】：例如，【c3w】表示更改3个字

   8. 跳至指定的行

   > - 【crtl + g】：列出光标所在行的行号
   > - 【#G】：例如，【15G】表示移动光标至文章的第15行行首

   9. 退出vim

   > - 【shift + zz】：退出vim，并且进行保存文件

## vim末行模式命令集

- 列出行号

  > - 【set nu】：输入【set nu】后，会在文件中的每一行前面列出行号

- 跳到文件中的某一行

  > - 【#】：【#】号表示一个数字，在冒号后面输入一个数字，再按回车键就会跳到改行了，如输入数字15，在回车，就会跳到文章的第15行

- 查找字符

  > - 【/关键字】：先按【/】键，在输入您想要寻找的字符，如果第一次找的关键字不是您想要的，可以一直按【n】会往后寻找到您想到的关键字为止
  > - 【？关键字】：先按【？】键，在输入您想要寻找的字符，如果第一次找的关键字不是您想要的，可以一直按【n】会往前寻找到您要的关键字为止

- 保存文件

  > - 【w】：在冒号后面输入字母【w】就可以将文件保存起来

- 离开vim

  > - 【q】：按【q】就是退出，如果无法离开vim，可以在【q】后跟一个【！】强制离开vim
  > - 【wq】：一般建议离开，搭配【w】一起使用，这样在退出的时候还可以保存文件

